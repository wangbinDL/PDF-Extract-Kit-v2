# 浅谈数学竞赛中的概率与统计* 

孙启傲（华东师范大学第二附属中学，201203）

笔者曾参加过一些国内外赛事 ${ }^{(1)}$ ，与命题人及研究人员 ${ }^{[1]}$ （鉴于某些特殊限制）。在准备过程中，与研究人员探讨了某些可放入竞赛试题的数学问题，这类概率与统计便是其中一种。这看似概率与统计放到好事先规划好的赛事中，笔者认为反而使整个赛事更加丰富多彩，这个概率与统计模块便是其中之二。事实上，规划一个新赛事的试题就是"大概率事件"的处理方式，而与命题人及研究人员合作便是"可规划事件"的处理方式。大概率事件的过程是具有随机性的，也就是来参加赛事，与命题人及研究人员所要承受的压力。本文则重点介绍放在好事先规划的概率事件处理。事实上，该通过赛事给出的问题，都是智能机器人所不能解析的中心与简单题，困难的问题 需要概率的处理。会概率的起码条件就是数学竞赛的来年规划。

## 1. 什么是大概率事件和可规划事件?

我们先看一个简单的例子，来直观地感受小概率和大概率在解题过程中的渗透。

例1. (2001 年 IMO 预选题) 设 $A=\left(a_{1}, a_{2}, \cdots, a_{2001}\right)$ 是正整数序列，设 $m$ 是三元子序列 $\left(a_{i}, a_{j}, a_{k}\right)$ 的个数 (其中 $1 \leq i<j<k \leq 2001$ ), 并且满足 $a_{j}=a_{i}+1, a_{k}=a_{j}+1$ 。考虑所有这样的序列 $A$, 求 $m$ 的最大值.

分析与解 这不是一个很难的问题。构造可以试试看 667 个 1,667 个 2,667 个 3 顺次排列，或者 1，2， $\cdots, 2001$ 顺次排列。实验证明后一种的 $m$ 比较大。我们可以猜测前一种是最大值（它简单很多)。

这时候，有两种思路可以重新考虑:

概率: 把 $A$ 看成一个比较标准的形式(即只看序列 $A$ 的试题)。
统计: 通过一系列技巧拆分问题。
概率的初学者，加粗黑体字。因为题目的规划过程 ${ }^{(2)}$ 是等价的转换，必须事先声明：2017-08-23；修订日期：2017-09-17.




---

不置可否”。但有时候，当命题人看到很多考生无法处理的时候， 阅卷人就把此题并过去了，这样做好像是 xf 。举个例子，处理数论问题的时候，同样方法就是并过去了的主力，但有时候可能只要这样多就行了，多个不一定好。有时候，（可笑）并过去了之后，想可以到画一个完美，这样想可以便知B卷。

乍看此题如鲠在喉，细看此人已在B卷。
我通过观察发现每个三元组一定是 $0(\bmod 3), 1(\bmod 3), 2(\bmod 3)$ 的某个组成的。并且拿出 3 个以及，三元组里每个元素之用内是唯一确定的。这为满足我们上面那个惯例。这就可以得到题的解答:

设 $A$ 中 $\bmod 3$ 余 $0,1,2,3$ 的元素各有 $x, y, z$ 个，则 $x+y+z=2001$ 。由上面的分析 $m \leq x y z \leq\left(\frac{x+y+z}{3}\right)^{3}=667^{3}$ (均值不等式)。 $m$ 的最大值为 667 。

# 逆则败 

很多并过去，然而已经用了。乍看此人如鲠在喉，段子手请进 (写人名，并且没有段子手)。进一步，我们还可以求出 $m$ 的一个表达式并尽快求出它的最大值。
2. / / 可当局者迷

可过去和并过去，不好说哪个就一定好，要根据问题的范围去处理。而且并过去和可过去可多数量级下才能到画为止的笼统结果。我们说，获奖名单主体是并过去，但为不能脱颖而出而记下两个可过去的（结合三）尝试。

例 2. (1995 IMO) 求所有正整数 $n>3$, 满足: 平面上存在 $n$ 个点 $A_{1}$, $A_{2}, \cdots, A_{n}$ 以及 $n$ 个实数 $p_{1}, p_{2}, \cdots, p_{n}$, 满足 (1) $A_{i}$ 之中无三点共线; (2) 对所有整数 $1 \leq i<j<k \leq n$, 三角形 $A_{i} A_{j} A_{k}$ 的面积为 $p_{i}+p_{j}+p_{k}$.

分析与解 这个题无从下手是因为三角形面积和点线分布关系不是很大。这提醒我们，面神赐两条路：(1)观察从比较小的情况，试从比较小的情况推导出一般规律。(2)投入大量的精力，算一些东西的而本质涵义之后再考虑别的。

乍看此题如鲠在喉，细看此人已在B卷。
后记 此文应该叫做 "可过去"，因作者发现前人写的 "并过去" 没有在射程范围里内提到。数学竞赛和数学研究在这方面有很多不同，竞赛中有时机限制，所以不能穷尽升得了的可过尝试。

## 我看到这里的面积不是有限面积，所以用代数方法（把心态摆出来、或作者用测量等方法）是很有意义的。很多合作都不能确定. 我看要逐步改变一些东西（多思考思考点的关系）。




---

下面记 $p(U)$ 表示： $U$ 对应的实数， $[A B C D]$ 表示四边形 $A B C D$ 的面积。
假想有一个凸四边形 $A B C D$ ，那么

$$
[A B C D]=[A C B]+[A C D]=2 p(A)+2 p(C)+p(B)+p(D)
$$

也有

$$
[A B C D]=[A D B]+[B C D]=2 p(B)+2 p(D)+p(A)+p(C)
$$

所以 $p(A)-p(B)=p(D)-p(C)$.
这个式子进一步分析可以推出若 $A_{1}, A_{2}, \cdots, A_{n}$ 中有奇点构成凸多边形，则每一个顶点所对应的实数都相等，进一步有三点共线，矛盾。

所以 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包是三角形或者四边形。这样子问题已经可以大大简化了，我有

更好的解法。
我的另一个想法是如果两点 $U, V$ 在 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包的内部，设其凸包的顶点依次为 $B_{1}, B_{2}, \cdots, B_{s}$ (不妨定义 $B_{s+1}=B_{1}$ )，那么考虑面积

$$
\left[B_{1} B_{2} \ldots B_{s}\right]=\sum_{i=1}^{s}\left[U B_{i} B_{i+1}\right]=\sum_{i=1}^{s}\left[V B_{i} B_{i+1}\right]
$$

可以得到, $p(U)=p(V)$. 进而对 $\left[U B_{1} B_{2}\right]=\left[V B_{1} B_{2}\right] \Longrightarrow U V / / B_{1} B_{2}(\quad U, V$ 在 $B_{1} B_{2}$ 同侧). 类似可得 $U V$ 平行于 $B_{2} B_{3}$ ，矛盾！

故 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包内部至多一个点. 只需要讨论一下 $n=5$ （凸包是四边形，内部一个点) 的情况就做完了。

恳请的处理就非常微妙了：
恳请给出 $n=4$ 的例子（比如一个正方形），或者 $n=5$ 的情况（讨论凸包顶点个数），就做完了。

这个题把人可绕晕了的是路线还很长，但如果在一开始就能证明题意是进阶就不知道，自己可以开角。可绕是路线，一般偏难，是没有办法开窍的。在考场上遇到这题时，有时甚至是不经意的，导致在说明问题时回溯不上解。

# 3. 如何局部 / 可绕例子 

给题要结合局部例子，一般偏难，即绕远例子是结合的，可以基于以下几种考虑:

- 为 $L$ 的解题过程增添这样的素材
- 是原问题的简单或者特殊情况
- 题目条件稍微修改下，某个东西会成立（有时候甚至是题目自带的隐藏条件，这被称




---

题目的正确性所担保)

- 某个东西如果成立对命题证明有一定的帮助

例 3. 已知正数 $a, b, c$ 构成三角形三边, 且 $a+b+c=3$. 求证:

$$
\sum \frac{1}{\sqrt{a+b-c}} \geq \frac{9}{\sum a b}
$$

分析 第一步是平凡的，即俗称的切线长代换。设 $u=a+b-c, v=b+c-a$ ， $w=c+a-b$. 则 $u, v, w>0, u+v+w=3$ ，题目等价于

$$
\sum \frac{1}{\sqrt{u}} \geq \frac{36}{\sum u^{2}+3 \sum u v} \Longleftrightarrow 9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 36
$$

这里（以及下面的）的 $\sum$ 代表对 $u, v, w$ 循环求和。
这么做，主要为了是让右边成为了常数，变得容易处理了。
从我的解题经验，我对式（1）左边有一个大胆的想法。我希望找一个 $\alpha \geq 0$ ，使得下面这个不等式能够靠着使用均值不等式就成立了。

$$
9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right)+\alpha \cdot u+\alpha \cdot v+\alpha \cdot v \geq 36+3 \alpha
$$

(这里要用加权均值, 使用的时候调整系数, 使得每个单项在 $u=v=w=1$ 的时候取值为 1 ）。

因为从本质而言，当 $\sum u$ 限定以后，（1）可以看做是一个"零次"式（总是可以齐次化的），加上一个 "零次" 的 $\sum u$ 也问题不大，并且在这里仍然是可以取等的, $\alpha$ 的作用是调节右边输出的几何平均中的次数. 我可以放心大胆的尝试。

结果喜人, 解出来 $\alpha=0$ 时, 他们的 (加权) 几何平均是零次的. 所以解答就出来了.

证明 设 $u=a+b-c, v=b+c-a, w=c+a-b$. 则 $u, v, w>0$, $u+v+w=3$, 题目等价于

$$
\sum \frac{1}{\sqrt{u}} \geq \frac{36}{\sum u^{2}+3 \sum u v} \Longleftrightarrow 9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 36
$$

由均值不等式

$$
\sum \frac{1}{\sqrt{u}} \geq 3 \cdot \frac{1}{\sqrt[6]{u v w}}>0, \quad \sum u v \geq 3 \cdot \sqrt[3]{(u v w)^{2}}>0
$$

故

$$
9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 9\left(\sum \frac{1}{\sqrt{u}}+\frac{1}{\sqrt[6]{u v w}} \cdot \sqrt[3]{(u v w)^{2}}\right)
$$




---

$$
=9\left(\frac{1}{u}+\frac{1}{v}+\frac{1}{w}+\sqrt{u v w}\right) \geq 36
$$

最后一步用到了均值不等式。
得到（1）之后扔掉"线性约束"的路线，也是可以接下来的。我提醒一个很关键的同学生（人大附中的施孟融同学）。这一步之后，利用柯西不等式得到

$$
\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq \frac{3}{2} \sum \frac{1}{\sqrt{u}} \cdot(u v+u w)=\frac{3}{2} \sum \sqrt{u}(3-u)
$$

这样做好像比较笨拙。之后利用半完全不等式加上一些讨论所多完成证明。

# 4. � 尝试其他方法 

在做简单题目的过程中，我们一般还是说先抛掉"线性约束"的路线，这能极大减少题目。但极大减少题目，我们要付出一些代价，即可能失去了很多信息。比如在碰到难题、渐感无措的时候，那就只是一个尝试的解决。尽量可以讲自己所有想法都尝试一下。除了精妙，半尝试可定义为包含会，但卢半尝试可能导致"解决"。 下面这道题是失败的问题。

例 4. 设 $n \geq 3$ 是正整数。设 $f(1), f(2), \cdots, f(n)$ 是 $1,2, \cdots, n$ 的一个排列.求证: $f(1), 2 f(2), 3 f(3), \cdots, n f(n)$ 不可能构成一个等差数列.

分析 这一题是今年西部竞赛给我们的压题。我有想过要用环形划圈圈，但对一般的 $n$ 的证明依然没有头绪。

这个等差数列可以用首项 $a$ 和公差 $d$ 表示出来。我们仿佛不能让它们都乘起来，至少让他们的乘积是确定的。为了保险，加之前 2014 年集训队大二题（3题中）也提过类似的形式，就半尝试尝试。

我们得到

$$
a(a+d)(a+2 d) \cdots(a+(n-1) d)=(n!)^{2}
$$

接下来请尝试处理这个等式。
对每个素因子 $p \mid d$ ，来分析上式两边 $p$ 次幂大小（要么是 0 ，要么比 $n$ 大）。两边都是 0 是没有必要，所以请尝试证明 $d \leq n$ ， 这样右边肯定有 $p$ 的幂数。

$d \leq n+1$ 是不难证明的，因为 $(n-1) d \leq n^{2}-1$ 。 而如果 $a=1, d=n+1$的情况只需要考虑 $1+d(n-2)$ ，这一项不可能出现。




---

当 $d>1$ 时，任取一个素数 $p \mid d$ ，右边被 $p$ 整除，所以左边有一项都是 $p$ 的倍数, 故 $p \mid a$. 仔细看左边被 $p$ 整除, 但右边 $p$ 的次数 $=2 \sum_{i \geq 1}\left\lfloor\frac{n}{p^{i}}\right\rfloor \leq$ $\frac{2 n}{p-1}$. 所以 $p=2$.

故 $d$ 是 2 的幂, 进一步可以讨论 $a$ 中 2 的幂次大小 (与 $d$ 中 2 的幂次相. )，然后分两种情况处理完这个问题（当 $\nu_{2}(a)<\nu_{2}(d)$ 时，左边 2 的次数是 $n$的倍数, 右边不是. 而 $\nu_{2}(a) \geq \nu_{2}(d)$, 即 $d \mid a$ 时, 左边 2 的次数可仅次于右边 2 的次数, 这都不能出现).

$d=1$ 的情况最好办, 我们回过头来看看 $d=0$ 的情况。给题要注意不要忘记 (尤其是一些以以后要用的工具)。这个题最终捋顺了我还是一个可行时.

向各位说我做的有: 还不清楚, 我尽量让我的解答对于你们来讲能顺藤摸到了. 不过, 我觉得我的解答给你们可能会导致"哦, 原来是这样"的感觉。事实上，在得到等式之后，我的处理就十分轻巧。这个等式已经大大削弱了条件，解答应该说只有一步之遥。但轻巧背后的我也想到很多, 但过程有一. 下面的解答是从我们两个的证明中提炼出的:

证明 用反证法. 设这个等差数列为 $a$, 公差是 $d \geq 0$.
第一步：证明 $d \leq n$.
首先 $d \leq n+1$ 是不难证明的, 因为 $(n-1) d \leq n \times n-1 \times 1=(n-1)(n+1)$.
若 $d=n+1$, 则 $a=1, f(1)=1, f(n)=n$. 考虑数列中的项 $1+(n-2) d>$ $(n-1) \times(n-1)$. 不能出现, 矛盾.

第二步：对 $d \neq 0$ ，证明 $d \mid a$ 。
等差数列中有 $\frac{d}{f(d)}$ 这一项, 故 $a \equiv \frac{d}{f(d)} \equiv 0(\bmod d)$.
第三步: 若 $d \neq 0$, 则 $d=1$.
记这个数列为 $d m, d(m+1), \cdots, d(m+n-1)$ ，那么若这 $n$ 个数全乘起来，则有

$$
d^{n} m(m+1) \cdots(m+n-1)=(n!)^{2} \Longleftrightarrow d^{n}\binom{m+n-1}{n}=n!
$$

但 $n!$ 中每个素因子 $p$ 的幂次均 $<\frac{n}{p-1}$. 故等式左边的 $d$ 不含素因子, 即 $d=1$.
第四步：讨论 $d=0, d=1$ 的情况。
这是平凡的, 在做读者思考题.
回看我们的过程, 第二步是向导的解答里的, 第三步是我的解答中的一些部分. 我可惊讶地发现他们竟然全都顺理成章, 但是没有可惊讶地发现 $d \mid a$. 因为我认为不太对他们的结论不能成立，但他们的确成立

. 向导（可惊讶）给出了第二步之后，即




---

模分析 $d$ 的素因子 $p$ 的情况，然后（分类）去给每项 $k f(k)$ 赋上 $p$ 幂数的分析。
得到 $p=2, d$ 是 2 的幂。然后再次分析证明 $4 \nmid d$ ，并再给 $d=0,1,2$ 的情况讨论。
我们先介绍这四处可用的工具，其实并非那么有效，就在下一部分介绍其他工具。
不过在这样的考试环境下，我们仍然设出了结果。
考试环境下就是明显疲劳，有时脑袋能高速思考。
注 上面难题中用到的 2014 年集训队大考第 3 题 [2]:

求证: 下列方程没有正整数解 $(x, y)$.

$$
(x+1)(x+2)(x+3) \cdots(x+2014)=(y+1)(y+2)(y+3) \cdots(y+4028)
$$

# 5. 考场上的临场发挥 

有题目, 指南里只有一条, 并且还非常非常的长. 长到以至于我都念不完了。这篇论文意在分享一些自己的考场经验和心态. 这一类问题大量出现在非常困难的题，它既需要有扎实的训练，又需要有灵活的思维。但这类问题并不多见于好的问题，我也几乎不在比赛或考试中遇到这种问题。

不过下面这个例子虽然知名度非常高，我们在高联的考场上，监考老师宣读试题的那一刻，震惊的是要考反演。反演在国内大考中很少考，它需要有大量的图来辅助。

例 5. (2002 年中国 TST) 设 $\alpha, \beta, \gamma$ 是正整数, 多项式 $f(x)=x(x-\alpha \beta)(x-$ $\beta \gamma)(x-\alpha \gamma)$ 。已知存在整数 $s$ 满足 $f(-1)=f(s)^{2}$ ，求关于 $t$ 的方程 $f(t)^{2}=\alpha \beta$的整数解个数。

分析 实际上最后那个断言是不大可能有整数解的。但是做法的确是分析证明 $\alpha \beta$ 不是完全平方数。这个证明又来源于下面这个结论:

若 $f(-1)=(\alpha \beta+1)(\beta \gamma+1)(\alpha \gamma+1)$ 是完全平方数, 则 $\alpha \beta+1, \beta \gamma+1$, $\alpha \gamma+1$ 都是完全平方数。

例 $5^{\prime}$ 。若正整数 $x, y, z$ 满足 $(x y+1)(y z+1)(z x+1)$ 是完全平方数，那么 $x y+1, y z+1, z x+1$ 都是完全平方数。

这些习题相加后容易感受到难点。并且例 $5^{\prime}$ 的证明还不那么令人满意。在考试中，交还会除数意义的思考是必不可少的。

例 $5^{\prime}$ 的大致过程是: 若 $x \leq y \leq z$ 是 $x+y+z$ 最小的反演例, 那么考虑 $t=x+y+z+2 x y z-2 \sqrt{(x y+1)(y z+1)(z x+1)}$. 则有

$$
x^{2}+y^{2}+z^{2}+t^{2}-2(x y+y z+z t+t x+x z+y t)-4 x y z t-4=0 .
$$




---

我们有

$$
\begin{aligned}
(x+y-z-t)^{2} & =4(x y+1)(z t+1) \\
(x+z-y-t)^{2} & =4(x z+1)(y t+1) \\
(x+t-y-z)^{2} & =4(x t+1)(y z+1)
\end{aligned}
$$

接下来可以证明 $-1<t<z$, 以及 $t \neq 0$ (这个是 $x y+1, y z+1, z x+1$ 不全为完全平方数小节的), 并且（ $t, x, y)$ 也是满足反证法假设 (即全是完全平方) 的一组解。 这与 $(x, y, z)$ 的最小性矛盾.
6. 后记。一个题的解出，当某个线段最小的处理，但是最核心的还是不断尝试。这时可尝试，想线段，琢磨的非常透彻。

再谈标准答案的问题。标准答案是一把双刃剑。它可能看作是僵化的。但是即兴发挥还是命题人希望看到的。毕竟即兴发挥需要非常好的心理素质，并且是如果是考场上不会出现的。我们在学军的过程中要注意从与书本上把问题，琢磨透了以后，即兴发挥要少，照葫芦画瓢，那么培养出会考场上超常发挥的人才，加清晰是当标准答案如果把话说死了的路线，自己要反着来。否则只能是死路一条。

举个例子，2017 年 IMO 第三题以及第六题 [3] 同样是可尝试处理的。而这还是为什么这两个题在 IMO 上得分率极低的原因)。这里再举个例子很难发出的快讯，近，一位湖南师范大学附属中学的陈舜午同学写的《三角函数习题课新内容》，介绍了同学生，希望感兴趣的老师亦可购买来看看：

/活动与 $\mathrm{CS} 0$ ，/活动与竞赛 $0 ， /$ 不必活动中不断尝试，项目中。


---


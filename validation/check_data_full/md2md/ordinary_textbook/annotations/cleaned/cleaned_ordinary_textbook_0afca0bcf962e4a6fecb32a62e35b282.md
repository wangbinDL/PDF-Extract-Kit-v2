# 论数学竞赛中的大胆与小心 

孙孟越<br>(华东师范大学第二附属中学, 201203)

笔者曾构想过一篇文章《刻画结构, 直捣黄龙》 ${ }^{[1]}$ (已发布于爱哞客栈). 在投稿之后, 与爱哞客栈编辑张瑞祥交流中, 笔者曾向张瑞祥抱怨没什么好的数学文章主题可以写, 而他一下子就回复了好几个主题, 这个大胆与小心就是其中之一. 这篇《大胆与小心》正好是对我《刻画结构, 直捣黄龙》的补充.

实际上, 刻画清楚问题的结构就是 “小心” 的处理方式, 而直接通过巧妙观察来解决问题则为 “大胆” 的处理方式.

“小心” 的过程是具更有普遍性的, 也就是《刻画结构,直捣黄龙》所要传达的东西. 本文则重点剖析那些更高层次的 “大胆” 处理. 实际上, 能够通过刻画结构做出的问题, 往往都是集训队水平的中档与简单题, 更难的问题往往需要大胆的处理. 会大胆的绕几乎就是数学竞赛的最高水平.

## 1. 什么是 “小心” 和 “大胆” ?

我们先举一个简单的例子, 来看看小心和大胆在解题过程中的具体表现.

例 1. (2001 年 IMO 预选题) 设 $A=\left(a_{1}, a_{2}, \cdots, a_{2001}\right)$ 是正整数序列, 设 $m$ 是三元子序列 $\left(a_{i}, a_{j}, a_{k}\right)$ 的个数 (其中 $1 \leq i<j<k \leq 2001$ ), 并且满足 $a_{j}=a_{i}+1, a_{k}=a_{j}+1$. 考虑所有这样的序列 $A$, 求 $m$ 的最大值.

分析与解 这不是一个太难的问题. 构造可以试试看 667 个 1,667 个 2,667 个 3 顺次排列, 或者 $1,2, \cdots, 2001$ 顺次排列. 实验发现前一种的 $m$ 比较大. 我们可以猜测前一种是最大值 (它也简单优美).

这时候, 有两条路可以走下去:

小心: 把 $A$ 调整成一个比较标准的形式 (即刻画清楚 $A$ 的结构).

大胆: 通过一系列巧妙观察解决问题.

小心的好处是, 你不会吃亏. 因为题目的转变过程往往是等价的转换, 信息
不太会丢失. 但有时候, 当信息太多导致你无法处理的时候, 你就得把信息丢弃了, 这样做就叫大胆. 举例来说, 处理数论问题的时候, 取同余就是丢弃了很多的东西, 但是有时候可能只要这么多就够了, 多了反而不好处理. 有时候, (大胆) 丢弃信息之后, 你可以到达一个平台, 这样你可以更方便地往上爬.

标答走的是 “小心” 的路, 我走了 “大胆” 的路.

我通过观察发现每个三元组一定是由 $0(\bmod 3), 1(\bmod 3), 2(\bmod 3)$ 的项各一个构成的. 并且选出 3 项以后, 三元组里三个元素顺序是唯一确定的. 这也满足我们上面那个例子. 这就得到了我的解答:

设 $A$ 中 $\bmod 3$ 余 $0,1,2,3$ 的项分别有 $x, y, z$ 个, 则 $x+y+z=2001$. 由上面的分析 $m \leq x y z \leq\left(\frac{x+y+z}{3}\right)^{3}=667^{3}$ (均值不等式). $m$ 的最大值为 $667^{3}$.

我丢掉了很多信息, 然而已经够用了. 标答走了 “小心” 的路, 它把 $A$ 调整成了不减的序列 (进行了规范化, 并且没有丢失任何信息). 进一步, 我们还可以求出 $m$ 的一个显式表达并求出它的最大值.

## 2. “大胆” 和 “小心” 哪个好?

“大胆” 和 “小心” , 不见得哪个就一定好, 要根据问题的形势去处理. 而且 “小心” 和 “大胆” 大多数情况下都能到达最后的目的地. 我们说, 做题目主基调是 “小心” , 但也不能忘记作出一两个大胆的 (合理) 尝试.

例 2. (1995 年 IMO) 求所有正整数 $n>3$, 满足: 平面上存在 $n$ 个点 $A_{1}$, $A_{2}, \cdots, A_{n}$ 以及 $n$ 个实数 $p_{1}, p_{2}, \cdots, p_{n}$, 满足 (1) $A_{i}$ 之中无三点共线; (2) 对所有整数 $1 \leq i<j<k \leq n$, 三角形 $A_{i} A_{j} A_{k}$ 的面积为 $p_{i}+p_{j}+p_{k}$.

分析与解 这个题入手点不是很明朗. 因为三角形面积和点列分布关系不是很大. 这怎么办, 面前有两条路:

大胆: 先看看 $n$ 比较小的情况, 试图从比较小的情况推导出一般规律.

小心: 通过一定的逻辑推理, 搞清楚一些点分布的基本状况之后再考虑入手.

我走了 “小心” 的路线, 因为我害怕走 “大胆” 的路线不能在有限的时间里做出来. 数学竞赛和数学研究在这一点上有些不同, 竞赛中有时间限制, 所以不能漫无目的的大胆尝试.

我看到这里的面积不是有向面积, 所以用代数方法 (把坐标写出来、或者用向量等方法) 是很吃亏的. 很多东西都不能确定. 我告诉自己要走组合一点的路线 (多考虑考虑点的位置关系).
下面记 $p(U)$ 表示点 $U$ 对应的实数, $[A B C D]$ 表示多边形 $A B C D$ 的面积.

假想有一个凸四边形 $A B C D$, 那么

$$
[A B C D]=[A C B]+[A C D]=2 p(A)+2 p(C)+p(B)+p(D)
$$

也有

$$
[A B C D]=[A D B]+[B C D]=2 p(B)+2 p(D)+p(A)+p(C) \text {. }
$$

所以 $p(A)-p(B)=p(D)-p(C)$.

这个式子进一步分析可以推出若 $A_{1}, A_{2}, \cdots, A_{n}$ 中有五点构成凸五边形,则每一个顶点所对应的实数都相等, 进一步有三点共线, 矛盾.

所以 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包是三角形或者四边形. 这样子问题已经大大简化, 我有了更大的信心.

我的另一个观察是如果两点 $U, V$ 在 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包的内部, 设其凸包的顶点顺次为 $B_{1}, B_{2}, \cdots, B_{s}$ (补充定义 $B_{s+1}=B_{1}$ ), 那么考虑面积

$$
\left[B_{1} B_{2} \ldots B_{s}\right]=\sum_{i=1}^{s}\left[U B_{i} B_{i+1}\right]=\sum_{i=1}^{s}\left[V B_{i} B_{i+1}\right]
$$

可以得到, $p(U)=p(V)$. 进而对 $\left[U B_{1} B_{2}\right]=\left[V B_{1} B_{2}\right] \Longrightarrow U V / / B_{1} B_{2}(U, V$ 在 $B_{1} B_{2}$ 同侧). 类似可得 $U V$ 平行于 $B_{2} B_{3}$, 矛盾!

故 $A_{1}, A_{2}, \cdots, A_{n}$ 的凸包内部至多一个点. 只需要仔细讨论一下 $n=5$ (凸包是四边形, 内部一个点) 的情况就做完了.

而标答的处理就非常直截了当:

标答给出了 $n=4$ 的例子 (比如一个正方形), 否定了 $n=5$ 的情况 (讨论凸包顶点个数), 就做完了.

这个问题走 “大胆” 的路线还真的可以成功, 但谁能在一开始就保证呢?只是人呐就都不知道, 自己不可以预料. 大胆路线, 一般而言, 是无法预判结果的. 在真正解题的过程中, 有时候也是不太敢走的, 导致在面对问题时会原地俳徊.

## 3. 如何合理地 “大胆” 尝试?

做题要合理地尝试, 一般而言, 哪些大胆尝试是合理的, 可以基于以下几种判断:

- 过往的解题经验中遇到过这样的结构
- 是原问题的简单或者特殊情形
- 题目条件暗示着某个东西会成立 (有时候甚至是题目自身的特例, 这被
题目的正确性所担保)
- 某个东西如果成立对命题证明有一定的帮助

例 3. 已知正数 $a, b, c$ 构成三角形三边, 且 $a+b+c=3$. 求证:

$$
\sum \frac{1}{\sqrt{a+b-c}} \geq \frac{9}{\sum a b} .
$$

分析 第一步是平凡的, 即俗称的切线长代换. 设 $u=a+b-c, v=b+c-a$, $w=c+a-b$. 则 $u, v, w>0, u+v+w=3$, 题目等价于

$$
\sum \frac{1}{\sqrt{u}} \geq \frac{36}{\sum u^{2}+3 \sum u v} \Longleftrightarrow 9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 36 .
$$

这里 (以及下面的) 的 $\sum$ 代表对 $u, v, w$ 循环求和.

这么做, 主要为了是让右边成为了常数, 变得容易处理了.

从我的解题经验, 我对式 (1) 左边有一个大胆的想法. 我希望找一个 $\alpha \geq 0$,使得下面这个不等式能够靠着使用均值不等式就成立了.

$$
9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right)+\alpha \cdot u+\alpha \cdot v+\alpha \cdot v \geq 36+3 \alpha .
$$

(这里要用加权均值, 使用的时候调整系数, 使得每个单项在 $u=v=w=1$ 的时候取值为 1 ).

因为从本质而言, 当 $\sum u$ 限定以后, (1) 可以看做是一个 “零次” 式 (总是可以齐次化的), 加上一个 “零次” 的 $\sum u$ 也问题不大, 并且在这里仍然是可以取等的, $\alpha$ 的作用是调节右边输出的几何平均中的次数. 我可以放心大胆的尝试.

结果喜人, 解出来 $\alpha=0$ 时, 他们的 (加权) 几何平均是零次的. 所以解答就出来了.

证明 设 $u=a+b-c, v=b+c-a, w=c+a-b$. 则 $u, v, w>0$, $u+v+w=3$, 题目等价于

$$
\sum \frac{1}{\sqrt{u}} \geq \frac{36}{\sum u^{2}+3 \sum u v} \Longleftrightarrow 9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 36 .
$$

由均值不等式

$$
\sum \frac{1}{\sqrt{u}} \geq 3 \cdot \frac{1}{\sqrt[6]{u v w}}>0, \sum u v \geq 3 \cdot \sqrt[3]{(u v w)^{2}}>0
$$

故

$$
9 \sum \frac{1}{\sqrt{u}}+\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq 9\left(\sum \frac{1}{\sqrt{u}}+\frac{1}{\sqrt[6]{u v w}} \cdot \sqrt[3]{(u v w)^{2}}\right)
$$

$$
=9\left(\sqrt{\frac{1}{u}}+\sqrt{\frac{1}{v}}+\sqrt{\frac{1}{w}}+\sqrt{u v w}\right) \geq 36 .
$$

最后一步用了四元均值不等式.

得到 (1) 之后走 “小心” 的路线, 也是可以做下去的. 我认识一个很厉害的同学 (人大附中的孔鼎问同学). 这一步之后, 他利用排序不等式得到了

$$
\left(\sum u v\right)\left(\sum \frac{1}{\sqrt{u}}\right) \geq \frac{3}{2} \sum \frac{1}{\sqrt{u}} \cdot(u v+u w)=\frac{3}{2} \sum \sqrt{u}(3-u) .
$$

这样做是为了把三个变量分离. 之后他利用琴生不等式加上稍许讨论成功完成了证明.

## 4. 何时 “大胆” 尝试比较好?

在做简单题目的过程中, 我们一般还是优先走 “小心” 的路线, 这往往能够确保做出题目. 但做完了题目, 我们要去总结一下, 哪些地方其实大胆以后一下子就可以越过去, 这经验在考场上就尤为重要.

而在遇到难题、走投无路的时候, 那就更是要大胆的尝试. 甚至可以说把所有你能想到的思路都尝试一下. 不过记得，“大胆” 是奢侈品, 过于大胆可能将导致失败. 下面这个题是困难的问题.

例 4. 设 $n \geq 3$ 是正整数. 设 $f(1), f(2), \cdots, f(n)$ 是 $1,2, \cdots, n$ 的一个排列.求证: $f(1), 2 f(2), 3 f(3), \cdots, n f(n)$ 不可能重排成一个等差数列.

分析 这一题是余红兵教授给我们上课的例题. 我先想了半个小时, 尝试了一些特例, 但对一般的 $n$ 的证明仍然没什么思路.

这个等差数列可以用首项 $a$ 和公差 $d$ 表示出来一一不过这已经是反证法能提供的全部条件了. 我看看能不能把他们都乘起来, 至少他们的乘积是确定的.

也没别的想法了, 加之 2014 年集训队测试大考第三题 (在题末注中) 也确实有过这样的形式, 就大胆地试试吧.

我们得到

$$
a(a+d)(a+2 d) \cdots(a+(n-1) d)=(n !)^{2} .
$$

接下来希望小心地处理这个等式.

对每个素因子 $p \mid d$, 来分析上式两边 $p$ 幕次大小 (要么是 0 , 要么比 $n$ 大).两边都是 0 是没意思的, 所以希望能先证明 $d \leq n$, 这样右边才一定有 $p$ 的倍数.

$d \leq n+1$ 是不难证明的, 因为 $(n-1) d \leq n^{2}-1$. 而否掉 $a=1, d=n+1$的情况只需要考虑 $1+d(n-2)$, 这一项不可能出现.
当 $d>1$ 时, 任取一个素数 $p \mid d$, 右边被 $p$ 整除, 所以左边有一项都是 $p$ 的倍数, 故 $p \mid a$. 进而左边被 $p^{n}$ 整除, 但右边 $p$ 的次数 $=2 \sum_{i>1}\left\lfloor\frac{n}{p^{i}}\right\rfloor<\frac{2 n}{p-1}$. 所以 $p=2$.

故 $d$ 是 2 的幂, 进一步可以讨论 $a$ 中 2 的幂次大小 (与 $d$ 中 2 的幂次相比较), 然后分两种情况处理完这个问题 (当 $v_{2}(a)<v_{2}(d)$ 时, 左边 2 的次数是 $n$的倍数, 右边不是. 而 $v_{2}(a) \geq v_{2}(d)$, 即 $d \mid a$ 时, 左边 2 的次数大于右边 2 的次数, 这都不能出现).

$d=1$ 的情况也好办, 我还差点漏掉 $d=0$ 的情况. 做题要注意不要遗漏 (特别是想了很久以后). 这个题最终花了我一个半小时.

余教授说我做的有点繁琐, 他自己也做得有些繁琐, 我们俩都有个东西没注意到. 不过, 他被我的解答启发了.

事实上, 在获得到等式之后, 我的处理就十分小心. 这个等式已经大大削弱了条件, 解答应该说只有一线曙光. 小心谨慎的我最后到达了成功, 但过程有一些曲折蜿蜒. 下面的解答是从我们两个的证明中提炼出的:

证明 用反证法. 设这个等差数列首项是 $a$, 公差是 $d \geq 0$.

第一步: 证明 $d \leq n$.

首先 $d \leq n+1$ 是不难证明的, 因为 $(n-1) d \leq n \times n-1 \times 1=(n-1)(n+1)$.

若 $d=n+1$, 则 $a=1, f(1)=1, f(n)=n$. 考虑数列中的项 $1+(n-2) d>$ $(n-1) \times(n-1)$. 不能出现, 矛盾.

第二步: 对 $d \neq 0$, 证明 $d \mid a$.

等差数列中有 $d f(d)$ 这一项, 故 $a \equiv d f(d) \equiv 0(\bmod d)$.

第三步: 若 $d \neq 0$, 则 $d=1$.

改记这个数列为 $d m, d(m+1), \cdots, d(m+n-1)$, 那么把这 $n$ 个数全乘起来, 则有

$$
d^{n} m(m+1) \cdots(m+n-1)=(n !)^{2} \Longleftrightarrow d^{n}\left(\begin{array}{c}
m+n-1 \\
n
\end{array}\right)=n !
$$

但 $n$ ! 中每个素因子 $p$ 的幕次均 $<\frac{n}{p-1}$. 故等式左边的 $d$ 不含素因子, 即 $d=1$.

第四步: 讨论 $d=0, d=1$ 的情况.

这是平凡的, 留给读者作为思考题.

回顾我们的过程, 第二步是余教授的解答里的, 第三步是我的解答中的一部分. 我大胆地把他们乘了起来, 但是没有大胆地发现 $d \mid a$. 因为我也不敢指望这么强的结论能成立, 但它确确实实成立了. 余教授 (大胆地) 做出第二步之后, 转
而去分析 $d$ 的素因子 $p$ 的情况, 然后 (小心地) 去做单项 $k f(k)$ 里 $p$ 倍数的分析.得到 $p=2, d$ 是 2 的幂. 然后再分析证明 $4 \nmid d$, 并再做 $d=0,1,2$ 的情况讨论.

我们前三步这么大胆的做, 其实丢掉了一些信息, 就留下了一些主要信息.不过在这样的 “大胆”下, 我们仍然道出了结果.

“大胆” 就是丢卒保车, 有时候它能让你走得更远.

注 上文中提到的 2014 年集训队大考第 3 题[2]:

求证: 下列方程没有正整数解 $(x, y)$.

$$
(x+1)(x+2)(x+3) \cdots(x+2014)=(y+1)(y+2)(y+3) \cdots(y+4028) .
$$

## 5. “大胆” 的典范

有些题目, 入手点只有一条, 并且还要非常的大胆才能入手. 大胆完以后还需要小心地处理. 这一类问题往往都是非常困难的题, 它既有思维上的障碍, 又有技术上的难点. 但这类问题不见得是好的问题, 我也不建议在平时训练中多训练这种问题.

不过下面这个例子提醒着我们, 我们在高级别的比赛中, 真的是要敢想敢做. 要和题目斗智斗勇.

例 5. (2002 年中国 TST) 设 $\alpha, \beta, \gamma$ 是正整数, 多项式 $f(x)=x(x-\alpha \beta)(x-$ $\beta \gamma)(x-\alpha \gamma)$. 已知存在整数 $s$ 满足 $f(-1)=f(s)^{2}$, 求关于 $t$ 的方程 $f(t)^{2}=\alpha \beta$的整数解个数.

分析 实际上最后那个八次方程是不太可能有整数解的. 但是做法居然是去证明 $\alpha \beta$ 不是完全平方数. 这个证明又来源于下面这个结论：

若 $f(-1)=(\alpha \beta+1)(\beta \gamma+1)(\alpha \gamma+1)$ 是完全平方数, 则 $\alpha \beta+1, \beta \gamma+1$, $\alpha \gamma+1$ 都是完全平方数.

例 $5^{\prime}$. 若正整数 $x, y, z$ 满足 $(x y+1)(y z+1)(z x+1)$ 是完全平方数, 那么 $x y+1, y z+1, z x+1$ 都是完全平方数.

这跟原题相比简直强到怀疑人生. 并且例 $5^{\prime}$ 的证明还不能一眼看到曙光.在考试中, 你还会不停地质疑自己这一步加强是不是正确.

例 $5^{\prime}$ 的大致过程是: 若 $x \leq y \leq z$ 是 $x+y+z$ 最小的反例, 那么考虑 $t=x+y+z+2 x y z-2 \sqrt{(x y+1)(y z+1)(z x+1)}$. 则有

$$
x^{2}+y^{2}+z^{2}+t^{2}-2(x y+y z+z t+t x+x z+y t)-4 x y z t-4=0 .
$$

我们有

$$
\begin{aligned}
& (x+y-z-t)^{2}=4(x y+1)(z t+1), \\
& (x+z-y-t)^{2}=4(x z+1)(y t+1), \\
& (x+t-y-z)^{2}=4(x t+1)(y z+1) .
\end{aligned}
$$

接着可以证明 $-1<t<z$, 以及 $t \neq 0$ (这个是 $x y+1, y z+1, z x+1$ 不全为完全平方数保证的), 并且 $(t, x, y)$ 也是满足反证法假设 (不全是完全平方) 的一组解. 这与 $(x, y, z)$ 的最小性矛盾.

## 6. 后记

一个题的解出, 当然要靠小心的处理, 但是也少不了大胆的尝试. 这时而大胆, 时而小心, 真的非常有趣.

再说说标准答案的问题. 标准答案是一堆逻辑推理. 它只能告诉你这个命题是正确的. 但是哪些地方是命题真正的难点, 哪些地方需要真正花力气去攻克, 并且是如何攻克的, 这些东西都是标答里所不会出现的. 我们在学习的过程中要注意从直觉上来把握问题, 真正的搞清楚问题讲了什么, 哪些地方要花力气, 怎么样才能重建这样子的力气. 尤其是当标准答案如果走了 “大胆” 的路线, 你就要反复的玩磨. 否则你很难有提高.

张瑞祥指出, 2017年 IMO 第三题以及第五题 ${ }^{[3]}$ 同样是大胆处理的典范. (这也是为什么这两个题在 IMO 里仍属于困难的问题). 这里附上张瑞祥提出的文章主题, 感兴趣的同学或者老师可以参考:

“竞赛与 CS”, “竞赛与金融”, “论竞赛中的大胆与小心”, “竞赛中的代数数论 (或代数几何)”。

## 参考文献

[1] 孙孟越. 刻画结构, 直捣黄龙 [J/OL]. https://zhuanlan.zhihu.com/p/28177306,爱哞客栈, 2017-09-09 期.

[2] 走向 IMO 数学奥林匹克试题集锦 (2014) [M]. 2014 年 IMO 中国国家集训队教练组编, 上海: 华东师范大学出版社, 2014.9.

[3] 㫿振华. 第 58 届国际数学奥林匹克 [J]. 数学新星网. 教师专栏, 2017-08-02 期.

